%dw 2.0
import withMaxSize from dw::core::Strings
output application/json
fun formatDataStructure( myfield ) =
myfield match {
case is Null -> null
case is String ->   (myfield as String {format: "YYYY-MM-DD HH24:MI:SS"})[0 to 18]
}

---
payload map {
	Id : $.'Id',
	IsDeleted : $.'IsDeleted',
	AccountId : $.'AccountId',
	RecordTypeId : $.'RecordTypeId',
	IsPrivate : $.'IsPrivate',
	Name : $.'Name',
	Description : $.'Description',
	StageName : $.'StageName',
	Amount : $.'Amount',
	Probability : $.'Probability',
	ExpectedRevenue : $.'ExpectedRevenue',
	TotalOpportunityQuantity : $.'TotalOpportunityQuantity',
	CloseDate : $.'CloseDate',
	Type : $.'Type',
	NextStep : $.'NextStep',
	LeadSource : $.'LeadSource',
	IsClosed : $.'IsClosed',
	IsWon : $.'IsWon',
	ForecastCategory : $.'ForecastCategory',
	ForecastCategoryName : $.'ForecastCategoryName',
	CampaignId : $.'CampaignId',
	HasOpportunityLineItem : $.'HasOpportunityLineItem',
	Pricebook2Id : $.'Pricebook2Id',
	OwnerId : $.'OwnerId',
	CreatedDate : $.'CreatedDate',
	CreatedById : $.'CreatedById',
	LastModifiedDate : $.'LastModifiedDate',
	LastModifiedById : $.'LastModifiedById',
	SystemModstamp : $.'SystemModstamp',
	LastActivityDate : $.'LastActivityDate',
	FiscalQuarter : $.'FiscalQuarter',
	FiscalYear : $.'FiscalYear',
	Fiscal : $.'Fiscal',
	LastViewedDate : $.'LastViewedDate',
	LastReferencedDate : $.'LastReferencedDate',
	PartnerAccountId : $.'PartnerAccountId',
	ConnectionReceivedId : $.'ConnectionReceivedId',
	ConnectionSentId : $.'ConnectionSentId',
	SyncedQuoteId : $.'SyncedQuoteId',
	ContractId : $.'ContractId',
	HasOpenActivity : $.'HasOpenActivity',
	HasOverdueTask : $.'HasOverdueTask',
	Budget_Confirmed__c : $.'Budget_Confirmed__c',
	Discovery_Completed__c : $.'Discovery_Completed__c',
	ROI_Analysis_Completed__c : $.'ROI_Analysis_Completed__c',
	qbdialer__Dials__c : $.'qbdialer__Dials__c',
	qbdialer__LastCallTime__c : $.'qbdialer__LastCallTime__c',
	DB_Competitor__c : $.'DB_Competitor__c',
	qbdialer__isdcCallStats__c : $.'qbdialer__isdcCallStats__c',
	Data_Quality_Description__c : $.'Data_Quality_Description__c',
	Data_Quality_Score__c : $.'Data_Quality_Score__c',
	Cars__c : $.'Cars__c',
	Commission_End_Date__c : $.'Commission_End_Date__c',
	Commission_Start_Date__c : $.'Commission_Start_Date__c',
	Competition_Details__c : $.'Competition_Details__c',
	Competition_Other__c : $.'Competition_Other__c',
	Competition__c : $.'Competition__c',
	Converted_from_Sales_Qualified__c : $.'Converted_from_Sales_Qualified__c',
	Created_from_Conversion__c : $.'Created_from_Conversion__c',
	Customer_Need__c : $.'Customer_Need__c',
	Date_of_Net_New_Appointment__c : $.'Date_of_Net_New_Appointment__c',
	Delayed_Account__c : $.'Delayed_Account__c',
	Diesel_Vehicles__c : $.'Diesel_Vehicles__c',
	Fuel_Others__c : $.'Fuel_Others__c',
	Gas_Vehicles__c : $.'Gas_Vehicles__c',
	Is_Net_New_Appointment_Scheduled__c : $.'Is_Net_New_Appointment_Scheduled__c',
	Lead_Source_Details__c : $.'Lead_Source_Details__c',
	Light_to_Medium_Sized_Trucks__c : $.'Light_to_Medium_Sized_Trucks__c',
	Lost_Reason__c : $.'Lost_Reason__c',
	Medium_to_Heavy_Sized_Trucks__c : $.'Medium_to_Heavy_Sized_Trucks__c',
	Primary_Credit_Application__c : $.'Primary_Credit_Application__c',
	Product_Interest__c : $.'Product_Interest__c',
	Target_Rollout_Date__c : $.'Target_Rollout_Date__c',
	Total_Vehicles__c : $.'Total_Vehicles__c',
	Tractor_Truck__c : $.'Tractor_Truck__c',
	Weekly_Gallons__c : $.'Weekly_Gallons__c',
	Weekly_Non_Fuel_Gallons__c : $.'Weekly_Non_Fuel_Gallons__c',
	Weekly_Non_Fuel_Spend__c : $.'Weekly_Non_Fuel_Spend__c',
	Opportunity_Owner_Role__c : $.'Opportunity_Owner_Role__c',
	Current_Billing_Payment_Method__c : $.'Current_Billing_Payment_Method__c',
	Current_Status_Date__c : $.'Current_Status_Date__c',
	Current_Status__c : $.'Current_Status__c',
	Is_Flow_Update__c : $.'Is_Flow_Update__c',
	Account_Code__c : $.'Account_Code__c',
	StartAuditDate__c : $.'StartAuditDate__c',
	Application_Submitted_Date__c : $.'Application_Submitted_Date__c',
	Monthly_Spend__c : $.'Monthly_Spend__c',
	Credit_Reason__c : $.'Credit_Reason__c',
	Estimated_Monthly_Fuel_Expense__c : $.'Estimated_Monthly_Fuel_Expense__c',
	Starter_Team_Rep__c : $.'Starter_Team_Rep__c',
	UUID__c : $.'UUID__c',
	Web_Dashboard_LeadId__c : $.'Web_Dashboard_LeadId__c',
	Playbooks_Play_Name__c : $.'Playbooks_Play_Name__c',
	Playbooks_Play_Status__c : $.'Playbooks_Play_Status__c',
	Playbooks_Step_Number__c : $.'Playbooks_Step_Number__c',
	Commission_End_Date_Formula__c : $.'Commission_End_Date_Formula__c',
	Commission_Start_Week__c : $.'Commission_Start_Week__c',
	First_Activity__c : $.'First_Activity__c',
	Lead_Form_Comments__c : $.'Lead_Form_Comments__c',
	SMS_Opt_In__c : $.'SMS_Opt_In__c',
	Assigned_to_a_Rep__c : $.'Assigned_to_a_Rep__c',
	Other_Lead_Source__c : $.'Other_Lead_Source__c',
	Playbooks_Next_Step_Due_Date__c : $.'Playbooks_Next_Step_Due_Date__c',
	Converted_by_IB_user__c : $.'Converted_by_IB_user__c',
	GPS_Contract_Start_Date__c : $.'GPS_Contract_Start_Date__c',
	GPS_Integration_Complete__c : $.'GPS_Integration_Complete__c',
	GPS_Partner_Sales_Agent_Email__c : $.'GPS_Partner_Sales_Agent_Email__c',
	GPS_Partner_Sales_Agent__c : $.'GPS_Partner_Sales_Agent__c',
	GeoTab_Reseller_Agent_Name__c : $.'GeoTab_Reseller_Agent_Name__c',
	IBP__IfbyphoneCallId__c : $.'IBP__IfbyphoneCallId__c',
	Integration_Complete_Date__c : $.'Integration_Complete_Date__c',
	Phone__c : $.'Phone__c',
	Card_Brand__c : $.'Card_Brand__c',
	Conditional_Rep__c : $.'Conditional_Rep__c',
	Conditional_Status__c : $.'Conditional_Status__c',
	Number_of_Cards__c: $.'Number_of_Cards__c'
}